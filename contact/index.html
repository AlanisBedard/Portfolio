<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact</title>

    <link rel="icon" type="image/x-icon" href="../svg/favicon.svg" />

    <link rel="stylesheet" href="../css/styles.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script type="module" src="../js/Main.js" defer></script>
  </head>

  <body>
    <div class="site-container">
      <header class="header" data-component="Header" data-header="scrollLimit">
        <div class="wrapper_nav header__style">
          <a href="../" class="brand"
            ><img src="../svg/logo.svg" alt="Logo Alanis Bédard"
          /></a>

          <nav>
            <ul class="nav_main">
              <div class="nav__animation">
                <li><a href="../">Accueil</a></li>
                <li><a href="../about/">À propos</a></li>
                <li><a href="../projects/">Projets</a></li>
              </div>
              <li>
                <a href=""
                  ><img src="../svg/letter.svg" alt="Logo de contact"
                /></a>
              </li>
            </ul>
          </nav>
        </div>
      </header>

      <section class="hero">
        <div class="wrapper contact__content">
          <div class="contact_infos">
            <h1>Contact</h1>
            <p>
              Voulez-vous discuter? Écrivez-moi un message via le formulaire de
              cette page. Il est aussi possible de communiquer avec moi par
              courriel professionnel ou par téléphone. Je vous répondrai dans
              les plus brefs délais.
            </p>
            <p>Téléphone : <a href="tel:579-883-9990">(579) 883-9990</a></p>
            <p>
              Courriel :
              <a href="mailto:alanisbedard@gmail.com">alanisbedard@gmail.com</a>
            </p>
          </div>

          <div class="form">
            <form
              class="gform pure-form pure-form-stacked"
              method="post"
              data-email="alanisbedardcontact@gmail.com"
              action="https://script.google.com/macros/s/AKfycbx1xkgQoslUKqV6zRJoN5zQ6exeZK9V5G3rW1csY-MH-zeDu0ZJb8dZzIND9mSTEY0B/exec"
            >
              <div class="form-elements">
                <div class="input">
                  <label class="input__label" for="nom">Nom</label>
                  <input
                    class="input__element"
                    type="text"
                    name="nom"
                    id="name"
                    placeholder="Prénom Nom"
                    required
                  />
                </div>
                <div class="input">
                  <label class="input__label" for="email"
                    >Adresse courriel</label
                  >
                  <input
                    class="input__element"
                    type="email"
                    name="email"
                    id="email"
                    placeholder="exemple@courriel.com"
                    required
                  />
                </div>

                <div class="input textarea u-grid-fullwidth">
                  <label class="input__label" for="message">Message</label>
                  <textarea
                    class="input__element input_textarea"
                    name="message"
                    maxlength="500"
                    id="comment"
                    placeholder=" "
                  ></textarea>
                </div>
                <button class="button reset-style_button">Soumettre</button>
              </div>

              <!-- Textes de confirmation -->
              <div class="form_confirmation">
                <h3>Merci de m'avoir contactée!</h3>
                <p>Je vous répondrai dans les plus courts délais.</p>
              </div>
            </form>
          </div>

          <script data-cfasync="false" type="text/javascript">
            (function () {
              function validEmail(email) {
                var re =
                  /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
                return re.test(email);
              }

              function validateHuman(honeypot) {
                if (honeypot) {
                  console.log("Robot Detected!");
                  return true;
                } else {
                  console.log("Welcome Human!");
                }
              }
              function getFormData(form) {
                var elements = form.elements;

                var fields = Object.keys(elements)
                  .filter(function (k) {
                    return elements[k].name !== "honeypot";
                  })
                  .map(function (k) {
                    if (elements[k].name !== undefined) {
                      return elements[k].name;
                    } else if (elements[k].length > 0) {
                      return elements[k].item(0).name;
                    }
                  })
                  .filter(function (item, pos, self) {
                    return self.indexOf(item) == pos && item;
                  });

                var formData = {};
                fields.forEach(function (name) {
                  var element = elements[name];
                  formData[name] = element.value;
                  if (element.length) {
                    var data = [];
                    for (var i = 0; i < element.length; i++) {
                      var item = element.item(i);
                      if (item.checked || item.selected) {
                        data.push(item.value);
                      }
                    }
                    formData[name] = data.join(", ");
                  }
                });

                // add form-specific values into the data
                formData.formDataNameOrder = JSON.stringify(fields);
                formData.formGoogleSheetName = form.dataset.sheet || "contact"; // default sheet name
                formData.formGoogleSendEmail = form.dataset.email || ""; // no email by default

                console.log(formData);
                return formData;
              }

              function handleFormSubmit(event) {
                event.preventDefault();
                var form = event.target;
                var data = getFormData(form);
                if (data.email && !validEmail(data.email)) {
                  var invalidEmail = form.querySelector(".email-invalid");
                  if (invalidEmail) {
                    invalidEmail.style.display = "block";
                    return false;
                  }
                } else {
                  disableAllButtons(form);
                  var url = form.action;
                  var xhr = new XMLHttpRequest();
                  xhr.open("POST", url);
                  xhr.setRequestHeader(
                    "Content-Type",
                    "application/x-www-form-urlencoded"
                  );
                  xhr.onreadystatechange = function () {
                    console.log(xhr.status, xhr.statusText);
                    console.log(xhr.responseText);
                    var formElements = form.querySelector(".form-elements");
                    if (formElements) {
                      formElements.style.display = "none"; // hide form
                    }
                    var sendConfirmation =
                      form.querySelector(".form_confirmation");
                    if (sendConfirmation) {
                      sendConfirmation.style.display = "block";
                    }
                    return;
                  };
                  var encoded = Object.keys(data)
                    .map(function (k) {
                      return (
                        encodeURIComponent(k) +
                        "=" +
                        encodeURIComponent(data[k])
                      );
                    })
                    .join("&");
                  xhr.send(encoded);
                }
              }

              function loaded() {
                console.log(
                  "Contact form submission handler loaded successfully."
                );
                var forms = document.querySelectorAll("form.gform");
                for (var i = 0; i < forms.length; i++) {
                  forms[i].addEventListener("submit", handleFormSubmit, false);
                }
              }
              document.addEventListener("DOMContentLoaded", loaded, false);

              function disableAllButtons(form) {
                var buttons = form.querySelectorAll("button");
                for (var i = 0; i < buttons.length; i++) {
                  buttons[i].disabled = true;
                }
              }
            })();
          </script>
          <!-- Script venant du tutoriel de PerfectCod sur Youtube : https://youtu.be/tqIUQyRCpBA -->
        </div>
      </section>

      <section class="references">
        <div class="wrapper">
          <div class="buttons">
            <a href="../pdf/alanisbedard_cv.pdf" class="button" download
              >Télécharger mon CV</a
            >
            <a
              href="../pdf/alanisbedard_recommandation.pdf"
              class="button"
              download
              >Télécharger ma lettre de recommendation</a
            >
          </div>
        </div>
      </section>

      <footer>
        <div class="wrapper footer__style">
          <span class="line"></span>
          <ul class="socials">
            <li>
              <a
                href="https://www.linkedin.com/in/alanisbedard/"
                target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-linkedin.svg"
                  alt="Le LinkedIn d'Alanis Bédard"
              /></a>
            </li>
            <li>
              <a href="https://www.behance.net/alanisbedard" target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-behance.svg"
                  alt="Le Behance d'Alanis Bédard"
              /></a>
            </li>
            <li>
              <a
                href="https://www.instagram.com/alanisbedard/?hl=fr"
                target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-instagram.svg"
                  alt="L'Instagram d'Alanis Bédard"
              /></a>
            </li>
            <li>
              <a
                href="https://www.youtube.com/channel/UCUNT473RGfLn5Gyyt1mYWJA"
                target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-youtube.svg"
                  alt="La chaîne Youtube d'Alanis Bédard"
              /></a>
            </li>
            <li>
              <a href="https://github.com/AlanisBedard" target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-github.svg"
                  alt="Le GitHub d'Alanis Bédard"
              /></a>
            </li>
            <li>
              <a href="https://sketchfab.com/alanisbedard" target="_blank"
                ><img
                  class="social_icon"
                  src="../svg/social-sketchfab.svg"
                  alt="Le Sketchfab d'Alanis Bédard"
              /></a>
            </li>
          </ul>
        </div>
      </footer>
    </div>
  </body>
</html>
